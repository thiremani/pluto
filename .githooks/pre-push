#!/usr/bin/env bash
set -euo pipefail

# Block push if any Go files are not gofmt'ed (tabs for leading indentation, etc.).
changed=$(gofmt -l .)
if [ -n "$changed" ]; then
  echo "gofmt found issues in:" >&2
  echo "$changed" >&2
  echo "Run: gofmt -w ." >&2
  exit 1
fi

exit 0

